<!DOCTYPE html>
<html>
<head>
	<title>Escape</title>
	<link rel="stylesheet" type="text/css" href="css/css2.css">
	<link rel="stylesheet" type="text/css" href="css/css3.css">
	<link rel="stylesheet" type="text/css" href="css/css4.css">
	<link rel="stylesheet" type="text/css" href="css/css5.css">
	<link rel="stylesheet" type="text/css" href="css/css7.css">
</head>
<body>

<div id="part2"><!--part 2 -->


<div id="picSlide" onmouseover ="changePicture()">
	<img id="slideLeft" src="image/p2/1.jpg" width="480px">
</div>

<div id="border"></div>

<div id="overlay">
<div  onclick="popupfunc1()">
	<img id="popupBkg" src="image/p2/1-1.jpg" width="960px">
</div>

<div id="popup" onclick="popupfunc2()">
	<img src="image/p2/4.jpg" width="480px">
</div>
</div>

<script type="text/javascript">
//hover mouse to change picture's position and source.
function changePicture(){
	document.getElementById('picSlide').style.animationName="leftToRight";
	document.getElementById('picSlide').style.animationDuration="10s";
	document.getElementById('picSlide').style.animationFillMode="forwards";
	setTimeout("document.getElementById('slideLeft').src='image/p2/2.jpg';",3000);
	document.getElementById('picSlide').style.paddingRight = "0px";
	document.getElementById('picSlide').style.marginRight = "0px";
}

//click to change the background and pop up a picture, click the second time to close the pop up picture
var clickTime = 1;
function popupfunc1(){
	if(clickTime == 1){
	document.getElementById('popup').style.display = "block";
	document.getElementById('popupBkg').src = "image/p2/3.jpg";
	}
	else{
	document.getElementById('part3').style.display = "block";	//display next blocks
	document.getElementById('popupBkg').style.position = "static";
	}

}

function popupfunc2(){
	document.getElementById('popup').style.display = "none";
	document.getElementById('popupBkg').src = "image/p2/5.jpg";
	clickTime = 2;
}

</script>


</div><!--part2 ends-->

<div id="part3"><!--part 3 -->
<div>
<img src="image/p3/macuser.jpg" id="macuser">
</div>
<div id="mailBkg">

<div id="mailLogin">
	<img src="image/p3/icon.png">
	<h2 class="text">Sign in</h2>
	<h5 class="text">to continue to Gmail</h5><br><br>
	<p class="mailInstr"><b>Email</b></p>
	<input id="mailAddress"><br><br>
	<p class="mailInstr"><b>Forgot email?</b></p><br>
	<p class="mailInstr"><b>More options</b></p>
	<div id="btn" onclick="enterInbox()">NEXT</div><br><br>
</div>

<div id="mailInbox">

<img src="image/p3/1inbox.jpg" width="960px" usemap="#1inbox" id="inbox1">
<map name="1inbox" id="1inbox">
	<area shape="rect" coords="225,119,940,146" onclick="inboxfunc1()">	
</map>

<img src="image/p3/2inbox.jpg" width="960px" usemap="#2inbox" id="inbox2">
<map name="2inbox" id="2inbox">
	<area shape="rect" coords="225,78,277,109" onclick="inboxfunc2()">
	<area shape="rect" coords="36,174,75,186" onclick="inboxfunc2()">
</map>

<img src="image/p3/3inbox.jpg" width="960px" usemap="#3inbox" id="inbox3">
<map name="3inbox" id="3inbox">
	<area shape="rect" coords="225,119,940,146" onclick="inboxfunc3()">
	<area shape="rect" coords="224,148,940,175" onclick="inboxfunc1()">
</map>

<img src="image/p3/4inbox.jpg" width="960px" usemap="#4inbox" id="inbox4">
<map name="4inbox" id="4inbox">
	<area shape="rect" coords="471,325,529,349" onclick="inboxfunc4()">
	<area shape="rect" coords="225,78,277,109" onclick="inboxfunc2()">
	<area shape="rect" coords="36,174,75,186" onclick="inboxfunc2()">
</map>

</div>

</div>

</div>


<script type="text/javascript">
	//click to enter the inbox
	function enterInbox(){
		var mailAdd = document.getElementById('mailAddress').value;
		console.log(userName);
		var userName = mailAdd.substr(0, mailAdd.length - 8);
		document.getElementById('mailLogin').style.display="none";
		document.getElementById('mailInbox').style.backgroundColor="white";
		document.getElementById('inbox1').style.display="block";
		confirm("Welcome Back "+userName+"\n"+"New URGENT Mail Received!");
	}

	//click to enter the first mail
	function inboxfunc1(){
		document.getElementById('inbox1').style.display="none";
		document.getElementById('inbox3').style.display="none";
		document.getElementById('inbox2').style.display="block";
	}

	//click to return to the inbox
	function inboxfunc2(){
		document.getElementById('inbox2').style.display="none";
		document.getElementById('inbox4').style.display="none";
		document.getElementById('inbox3').style.display="block";
		confirm("New URGENT Mail Received!");
	}

	function inboxfunc3(){
		document.getElementById('inbox3').style.display="none";
		document.getElementById('inbox4').style.display="block";
	}

	function inboxfunc4(){
		document.getElementById('part4').style.display = "block";
		document.getElementById('mailBkg').style.position = "static";
		document.getElementById('mailInbox').style.position = "static";
	}
</script>


</div><!--part3 ends-->


<div id="part4"><!--Part 4-->
<div id="chase1"><img src="image/p4/chase1.jpg" width="960px"></div>
<div id="chase2"><img src="image/p4/chase2.jpg" width="960px"></div>
<div id="userInput">
<input id="inputNum">
<div id="inputConfirm" onclick="inputConfirm()">DEACTIVATE</div>
</div>
<div id="jump">
	<img src="image/p4/jump1wide.jpg" width="960px">
	<img src="image/p4/jump2wide.jpg" width="960px">
	<img src="image/p4/jump3wide.jpg" width="960px">
</div>



<script>
	//generate a random number
	var ranChase = Math.floor((Math.random()*5));
	console.log(ranChase);
	//click to display the jump and next section
	function inputConfirm(){
	var inputNum = document.getElementById('inputNum').value;
	if(inputNum == ranChase){
		confirm("Authentication Successed" +"\n"+"Firewall Deactivated");
		document.getElementById('jump').style.display = "block";
		document.getElementById('part5').style.display = "block";//display next section
	}
	else{
		confirm("Authentication Failed"+"\n"+"Please Try Again");
	}
	}
</script>


</div><!--part4 ends-->



<div id="part5"><!--part 5 -->
<div id="doorChoose" onmouseover="doorHover()" onmouseout="doorRecover()">
	<img id="door" src="image/p5/door.jpg" width="960px" usemap="#door">
	<map name="door">
	<area shape="rect" coords="0,0,400,480" onclick="leftDoor()">
	<area shape="rect" coords="401,0,562,480" onclick="midDoor()">
	<area shape="rect" coords="563,0,960,480" onclick="rightDoor()">		
	</map>
</div>


<script type="text/javascript">
	//hover to change the picture
	function doorHover(){
		document.getElementById('door').src = "image/p5/hover.jpg";
	}

	//move away the mouse to get back to the original picture
	function doorRecover(){
		document.getElementById('door').src = "image/p5/door.jpg";
	}

	//produce a random number between 1-3
	var ran = Math.floor((Math.random()*3));
	console.log(ran);

	//compare the random number with the click event to decide whether it is the right door
	function leftDoor(){
		var door = 0;
		if (door == ran) {
			document.getElementById("part6").style.display = "block";  //display next section
		}
		else{
			alert("Oh no!" + "\n" + "This could be the worst decision you've ever made!");
		}
	}

	function midDoor(){
		var door = 1;
		if (door == ran) {
			document.getElementById('part6').style.display="block";   //display next section
		}
		else{
			alert("I unserstand you are not always lucky." + "\n" + "TRY AGAIN!");
		}
	}

	function rightDoor(){
		var door = 2;
		if (door == ran) {
			document.getElementById('part6').style.display="block";//display next section
		}
		else{
			alert("This does not seem like the right way." + "\n" + "Guess one more time.");
		}
	}
</script>


</div><!-- part5 ends-->

<div> <!--part6-->
	<iframe src="p6.html" id="part6" scrolling="no" width="100%" align="center" height="1150px"></iframe>
</div>

<div id="part7"><!--part7-->
	<div id="panel1" onmouseover="appear()">
	<img id="fade1" src="image/p7/fade.png" height="600" width="700">
	<img id="cyberspace1" src="image/p7/tron_floor.jpg" height="960" width="960">
	<img id="bubble" src="image/speech_bubble.png" height="300" width="300">

	<div id="text">
		<h2>I think...<br> IT'S WORKING!</h2>
	</div>

	<script>
		function appear(){
			document.getElementById("bubble").style.display = "inline";
			document.getElementById("text").style.opacity = "1";
		}
	</script>
</div>


<p> [needed to create a gap] </p>

<div id="panel2">
	<img id="mac" src="image/p7/mac.png" height="600" width="960">
	<img id="fade2" src="image/p7/fade.png" height="300" width="300">
	<img id="cyberspace2" src="image/p7/tron_floor.jpg" height="450" width="960">
</div>

<div id="panel3">
	<img id="returned" src="image/p7/com(13).jpg" height="600" width="960">

	<h1> YOU FREED ME! </h1>
</div>
</div>

<div id="ending">
	<h4>Created by Helium & Maya<br>
		NYUSH - IMA - 2017<br></h4>
	<a href="index.html"><h4>Experience Again</h4></a>
</div>

</body>
</html>